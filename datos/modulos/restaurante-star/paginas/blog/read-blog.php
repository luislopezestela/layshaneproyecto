<style type="text/css">
  /* read blog */
  body{background-color:rgb(249, 249, 249);}
  .postCategory{background-color: rgba(255, 255, 255, 0.2);
    color:#333;
    backdrop-filter:blur(10px);
    min-width: auto;
    line-height: 25px;
    padding: 0 10px;
    font-weight: normal;
  }
  .margen_pagina_blog{max-width:1250px;margin:auto;}
  .columna-4,.columna-8{
    position:relative;
    min-height: 1px;
    padding-right: 15px;
    padding-left: 15px;
    overflow-wrap: break-word;
    box-sizing: border-box;
  }
  @media (min-width: 992px){
    .columna-4{width:33.3333%;padding-left:0px;float:left;}
    .columna-8{width:66.6667%;float:left;}
  }
  img{vertical-align:middle;}
  .wow_read_blog_hdr_img{background:#fff;border-radius:0 0 25px 25px;border-bottom:1px solid #ccc;padding:24px;position:relative;animation-duration: 1000ms;
    animation-delay: 0ms;
    animation-timing-function: ease-in-out;
    animation-name: animateheadread;}
  .read_blog_con span {
    color: #000;
    font-size: 14px;
    font-family: 'Open Sans',Helvetica,Arial,Lucida,sans-serif;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 5px;
    line-height: 1.6em;
    text-shadow: 0em 0em 3em rgba(22,29,67,0.24);
    word-wrap: break-word;
    text-align: left;}
    .read_blog_con h1{font-size:30px;margin: 20px 0px;}
    .head_cont_servicios_row{background-image: linear-gradient(90deg,rgb(0 0 0 / 40%) 70%,rgb(1 1 1 / 46%) 100%);}
    .pull-right{float:right;}
    .postMeta--author-avatar {
    vertical-align:middle;
    padding-right:10px;
    display:table-cell;}
    .wow_read_blog_hdr_img_innr .postMeta--author-text {
    color: rgba(0, 0, 0, 0.8);
    text-decoration: none;}
    .postMeta--author-text {
    vertical-align: middle;
    display: table-cell;
    overflow: hidden;}
    .wow_read_blog_hdr_img_innr .postMeta--author-avatar img {
    width:35px;
    border-radius:50%;box-sizing: border-box;
    object-fit:cover;vertical-align: middle;
    height:35px;}
    .wow_read_blog_hdr_img_innr .read-blog-info-user .metaLink {
    color: rgba(0, 0, 0, 0.8);
    fill: rgba(0, 0, 0, 0.8);
    display: inline-block;
    text-decoration: none;
    margin: 9px 0px;}
    .read-blog-info-user .metaLink svg,.read-blog-info-user .views svg{vertical-align:middle;overflow-clip-margin: content-box;}
    .wow_read_blog_hdr_img_innr .postMeta--author-text a {
    font-weight: bold;
    font-size: 15px;
    text-decoration: none;}
    .wow_read_blog_hdr_img_innr .postMeta--author-text time {
    display: block;
    font-size: 14.5px;}
    .wow_read_blog_row {
    position: relative;
    margin: 50px 0px 0px;
    padding: 0px 15px;}
    .wow_content_blog {
    width: 100%;
    background: rgb(255, 255, 255);
    border-radius: max(0px, min(8px, ((100vw - 4px) - 100%) * 9999)) / 8px;
    padding: 15px 15px 1px;overflow-wrap: break-word;box-sizing: border-box;}
    .read-blog{padding:20px;}
    .read-blog-container .read-blog .read-blog-desc {
      width:100%;
    letter-spacing: normal;
    overflow-wrap: break-word;
    color: rgb(0, 0, 0);
    font-size: 17px;
    font-weight: bold;
    text-align: justify;
    font-family:sans-serif;
    padding-bottom: 10px;
    margin-bottom: 20px;
    border-bottom: 1px solid rgb(234, 234, 234);}
    .read-blog-container .read-blog .read-content {
    color: rgb(51, 51, 51);
    font-size: 16px;
    width: 100%;
    text-align: justify;
    overflow: hidden;overflow-wrap: break-word;margin: 0px 0px 10px;}
    .read-blog-container .read-tags {
    width: 100%;
    overflow: hidden;
    padding: 5px 0px 0px;}
    .read-blog-container .read-tags .postTag {
    display: inline-block;
    font-size: 13px;
    font-family: "Segoe UI Historic", "Segoe UI", Helvetica, Arial, sans-serif;
    font-weight: bold;
    color: black;
    text-decoration: none;
    padding: 1px;
    border-bottom: 1px solid rgb(0, 0, 0);
    margin: 5px;}
    .wow_content_blog {
    width: 100%;
    background: rgb(255, 255, 255);
    border-radius: max(0px, min(8px, ((100vw - 4px) - 100%) * 9999)) / 8px;
    padding: 15px 15px 1px;margin-bottom:20px;}
    .read-blog-container .related-post .blog-sidebar {
    margin: 0px;
    padding: 0px 5px;}
    .read-blog-container .related-post .blog-sidebar .wo_page_hdng {
    margin-bottom: 15px;
    padding: 0px 0px 10px;
    border-bottom:1px solid rgb(238, 238, 238);}
    .wo_page_hdng_innr {
    display: flex;
    align-items: center;
    font-size: 16px;
    color: rgb(5, 5, 5);
    font-weight: 600;
    line-height: 16px;}
    .read-blog-container .related-post .blog-sidebar .row {
    margin: 0px -9px;}
    .row::after,.row::before{display:table;content:" ";}
    .row::after{clear:both;}
    .read-blog-container .related-post .recommended-articles {
    margin-bottom: 20px;
    padding: 0px 9px;
    overflow: hidden;}
    .read-blog-container .related-post .recommended-articles .article-thumbnail {
    width: 100%;
    max-height: 135px;
    overflow: hidden;}
    .read-blog-container .related-post .recommended-articles .article-thumbnail img {
    width: 100%;
    margin-bottom: 5px;
    height: 115px;
    border-radius: max(0px, min(8px, ((100vw - 4px) - 100%) * 9999)) / 8px;}
    .read-blog-container .related-post .recommended-articles .article-title a {
    text-decoration: none;}
    .read-blog-container .related-post .recommended-articles .article-title h4 {
    width: 100%;margin-top: 7px;
    margin-bottom: 10px;
    font-size: 16px;
    color: rgb(68, 68, 68);
    text-overflow: ellipsis;
    overflow: hidden;
    white-space: nowrap;overflow-wrap: break-word;}
    .read-blog-container .related-post .recommended-articles .article-info {
    width: 100%;
    font-size: 14.5px;
    color: rgb(153, 153, 153);}
    .blog-com-wrapper .wo_page_hdng {
    margin-bottom: 20px;border-bottom: 1px solid rgb(238, 238, 238);
    padding: 0px 0px 10px;}
    .contem_comentarios {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: center;
    position: relative;}
    .w100 {
    width: 100%;
    overflow: hidden;}
    .wo_blogcomm_combo {
    padding: 5px 0px;}
    .clear{clear:both;}
    .contem_comentarios img {
    width: 40px;
    height: 40px;
    position: absolute;
    top: 8px;
    left: 0px;
    border-radius: 50%;
    border-width: 1px;
    border-style: solid;
    border-color: rgb(244, 244, 244);
    border-image: initial;
    margin-right: 10px;}
    
    .wo_blogcomm_combo textarea {
      white-space: pre-wrap;
      writing-mode: horizontal-tb !important;
          cursor: text;
    overflow-wrap: break-word;
    min-height: 50px;
    box-shadow: rgba(60, 66, 87, 0.16) 0px 0px 0px 1px, rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0.12) 0px 1px 1px 0px, rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0) 0px 0px 0px 0px;
    font-size: 16px;
    line-height: 28px;
    border-width: 0px;
    border-style: initial;
    border-color: initial;
    border-image: initial;
    transition: background-color 240ms ease 0s, box-shadow 240ms ease 0s;
    border-radius: 25px !important;
    padding: 11px 15px 7px !important;color: rgb(85, 85, 85);
    display: block;background-image:none;overflow:auto;}

    .wo_blogcomm_combo textarea:focus {
    box-shadow: rgba(60, 66, 87, 0.16) 0px 0px 0px 1px, rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0.12) 0px 1px 1px 0px, rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(58, 151, 212, 0.28) 0px 0px 0px 4px, rgba(0, 0, 0, 0) 0px 0px 0px 0px;}

.form-control:focus{border-color: rgb(204, 204, 204);outline:0px;}
.contem_comentarios textarea{
    width: calc(100% - 53px);
    left:23px;
    position: relative;
    height: 50px;
    font-family:inherit;
    padding-right: 45px !important;}
    textarea.form-control {
    resize: none !important;}
.btn{display:inline-block;margin-bottom:0px;font-weight:400;touch-action:manipulation;cursor:pointer;}
.btn-mat{user-select:none;border:none;-webkit-tap-highlight-color:transparent;
    text-decoration:none;
    text-align:center;
    line-height:36px;
    transform:translate3d(0px, 0px, 0px);
    font-size:15px;
    font-family:"Segoe UI Historic", "Segoe UI", Helvetica, Arial, sans-serif;
    outline:0px;
    border-radius:max(0px, min(8px, ((100vw - 4px) - 100%) * 9999)) / 8px;transition:background 0.4s cubic-bezier(0.25, 0.8, 0.25, 1) 0s, box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1) 0s;overflow:hidden;
}
.contem_comentarios button {
    background:var(--boton-fondo);
    color:var(--boton-color)!important;
    border-color:var(--boton-fondo);
    width: 40px;
    height: 40px;
    min-width: 40px;
    position: absolute;
    right: 7px;
    bottom: 10px;
    border-radius: 25px;
    padding: 0px;
    margin-left:10px;
}
.btn-mat::before {
    content: "";
    position: absolute;
    left: 0px;
    right: 0px;
    top: 0px;
    bottom: 0px;
    background-color: currentcolor;
    opacity: 0;
    transition: opacity 0.2s ease 0s;
}
.btn-mat::after {
    content: "";
    position: absolute;
    left: 50%;
    top: 50%;
    width: 32px;
    height: 32px;
    background-color: currentcolor;
    opacity: 0;
    transform: translate(-50%, -50%) scale(1);
    border-radius: 50%;
    padding: 50%;
    transition: opacity 1s ease 0s, transform 0.5s ease 0s;
}
.wo_blogcomm_combo button svg{margin:0px;width:24px;height:24px;vertical-align:middle;}
@keyframes animateheadread{
  0%{opacity:0;transform:translateY(-40%);}
  100%{opacity:1;transform:translateY(0%);}
}
.blog-com-wrapper .blog-comlist-container, .movies-com-wrapper .movies-comlist-container {
    width: 100%;
    overflow: hidden;
    margin-top: 30px;
    padding-bottom: 30px;
}
</style>
<div class="margen_pagina_blog" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="wow_read_blog_hdr_img">
    <div class="read_blog_con">
      <span><a style="text-decoration:none;" class="postCategory" href="<?php echo $wo['article']['category_link']; ?>" data-ajax="?link1=blog-category&id=<?php echo $wo['article']['category']; ?>"><?php echo $wo['blog_categories'][$wo['article']['category']]; ?></a></span>
      <h1 itemprop="headline"><?php echo $wo['article']['title']?></h1>
    </div>
		<div class="wow_read_blog_hdr_img_innr">
			<div class="container">
				<div class="read-blog-info-user">
					<div class="user-name <?php echo lui_RightToLeft('pull-right'); ?>">
						<a href="<?php echo $wo['article']['url']; ?>#respond" class="metaLink">
							<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="15px" height="15px" viewBox="0 0 369.982 369.982" xml:space="preserve">
								<path d="M314.821,47.893c-34.797-28.139-80.904-43.636-129.83-43.636S89.958,19.754,55.161,47.894
									C19.59,76.661,0,115.142,0,156.249c0,41.108,19.59,79.591,55.161,108.356c34.797,28.141,80.904,43.639,129.83,43.639
									c4.981,0,10-0.166,14.995-0.496l31.509,51.959c2.213,3.648,6.134,5.916,10.399,6.018c0.097,0.002,0.191,0.002,0.29,0.002
									c4.155,0,8.051-2.068,10.376-5.529l66.711-99.326c32.727-28.33,50.711-65.371,50.711-104.621
									C369.982,115.141,350.393,76.66,314.821,47.893z M300.904,243.673l-58.183,86.332l-25.372-41.838
									c-2.279-3.76-6.348-6.018-10.686-6.018c-0.419,0-0.84,0.021-1.262,0.062c-6.752,0.684-13.619,1.029-20.412,1.029
									c-88.22,0-159.991-56.97-159.991-126.994c0-70.023,71.771-126.992,159.991-126.992c88.22,0,159.991,56.969,159.991,126.992
									C344.982,188.885,329.328,219.932,300.904,243.673z"/>
							</svg>
							<?php echo lui_GetBlogCommentsCount($wo['article']['id']); ?>
							<?php echo $wo['lang']['comments'];?>
						</a>
						<span class="middot">·</span>
						<span class="views">
							<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
								 width="20px" height="20px" viewBox="0 0 442.04 442.04"
								 xml:space="preserve">
									<path d="M221.02,341.304c-49.708,0-103.206-19.44-154.71-56.22C27.808,257.59,4.044,230.351,3.051,229.203
										c-4.068-4.697-4.068-11.669,0-16.367c0.993-1.146,24.756-28.387,63.259-55.881c51.505-36.777,105.003-56.219,154.71-56.219
										c49.708,0,103.207,19.441,154.71,56.219c38.502,27.494,62.266,54.734,63.259,55.881c4.068,4.697,4.068,11.669,0,16.367
										c-0.993,1.146-24.756,28.387-63.259,55.881C324.227,321.863,270.729,341.304,221.02,341.304z M29.638,221.021
										c9.61,9.799,27.747,27.03,51.694,44.071c32.83,23.361,83.714,51.212,139.688,51.212s106.859-27.851,139.688-51.212
										c23.944-17.038,42.082-34.271,51.694-44.071c-9.609-9.799-27.747-27.03-51.694-44.071
										c-32.829-23.362-83.714-51.212-139.688-51.212s-106.858,27.85-139.688,51.212C57.388,193.988,39.25,211.219,29.638,221.021z"/>
									<path d="M221.02,298.521c-42.734,0-77.5-34.767-77.5-77.5c0-42.733,34.766-77.5,77.5-77.5c18.794,0,36.924,6.814,51.048,19.188
										c5.193,4.549,5.715,12.446,1.166,17.639c-4.549,5.193-12.447,5.714-17.639,1.166c-9.564-8.379-21.844-12.993-34.576-12.993
										c-28.949,0-52.5,23.552-52.5,52.5s23.551,52.5,52.5,52.5c28.95,0,52.5-23.552,52.5-52.5c0-6.903,5.597-12.5,12.5-12.5
										s12.5,5.597,12.5,12.5C298.521,263.754,263.754,298.521,221.02,298.521z"/>
									<path d="M221.02,246.021c-13.785,0-25-11.215-25-25s11.215-25,25-25c13.786,0,25,11.215,25,25S234.806,246.021,221.02,246.021z"/>
							</svg>
							<?php echo $wo['article']['view']?> 
							<?php echo $wo['lang']['views']?>
							</span>
					</div>
          <div class="postMeta--author-avatar">
            <a href="<?php echo $wo['article']['author']['url']?>"><img src="<?php echo $wo['article']['author']['avatar']?>" alt="User Image"></a>
          </div>
					<div class="postMeta--author-text">
						<a rel="author" href="<?php echo $wo['article']['author']['url']; ?>" data-ajax="?link1=timeline&u=<?php echo $wo['article']['author']['username']; ?>"><?php echo $wo['article']['author']['name']; ?></a>
						<time itemprop="datePublished" content="<?php echo date("d M Y",$wo['article']['posted']); ?>"><?php echo date("d M Y",$wo['article']['posted']); ?></time>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<div class="row wow_read_blog_row">
		<div class="columna-8 read-blog-container">
			<div class="read-blog wow_content wow_content_blog">
				<div class="read-blog-head">
					<div class="read-blog-desc">
						<p itemprop="description"><?php echo $wo['article']['description']; ?></p>
					</div>
				</div>
				
				<!-- Additional schema meta -->
				<div itemscope="" itemprop="publisher" itemtype="http://schema.org/Organization" class="hidden">
					<meta itemprop="name" content="<?php echo $wo['config']['siteName'];?>">
					<div itemprop="logo" itemscope="" itemtype="https://schema.org/ImageObject" class="hidden">
						<meta itemprop="url" content="<?php echo $wo['config']['theme_url'];?>/img/logo.<?php echo $wo['config']['logo_extension'];?>">
						<meta itemprop="width" content="470">
						<meta itemprop="height" content="75">
					</div>
				</div>
				
				<a itemprop="mainEntityOfPage" href="<?php echo $wo['article']['url']; ?>" class="hidden"></a>
				
				<div itemprop="image" itemscope itemtype="https://schema.org/ImageObject" class="read-blog-thumbnail hidden">
					<img src="<?php echo $wo['article']['thumbnail']; ?>" alt="<?php echo $wo['article']['title']?>">
					<meta itemprop="url" content="<?php echo $wo['article']['thumbnail']; ?>">
					<meta itemprop="width" content="700">
					<meta itemprop="height" content="250">
				</div>
				
				<div itemprop="articleBody" class="read-content">
					<?php echo nofollow(htmlspecialchars_decode($wo['article']['content'])); ?>
					<div class="clear"></div>
				</div>
              
				<div class="read-tags">
					<?php if (is_array($wo['article']['tags_array'])) {
						foreach ($wo['article']['tags_array'] as $key => $tag) {
					?>
						<a class="postTag" href="<?php echo lui_SeoLink('index.php?link1=hashtag&hash=' . $tag) ?>" rel="tag">#<?php echo $tag ?></a>
					<?php } } ?>
				</div>
            </div>
			
			<div class="page-margin wow_content wow_content_blog" style="margin-top:20px;">
				<div class="related-post">
					<?php echo lui_LoadPage('blog/sidebar') ?>
				</div>
			</div>
				
			<?php //if ($wo['loggedin'] == true): ?>           
			<div class="page-margin wow_content wow_content_blog blog-com-wrapper" id="respond">
				<div class="wo_page_hdng">
					<div class="wo_page_hdng_innr">
						<?php echo lui_GetBlogCommentsCount($wo['article']['id']); ?>  <?php echo $wo['lang']['comments'];?>
					</div>
				</div>
				<?php if ($wo['loggedin'] == true): ?>
		      <div class="">
						<form class="form">
							<div class="w100 wo_blogcomm_combo contem_comentarios">
		            <?php if ($wo['loggedin'] == true): ?>
		            	<img class="avatar" src="<?php echo $wo['user']['avatar'];?>"/>
		            <?php endif; ?>      
								<textarea id="blog-comment" name="text" class="form-control" placeholder="<?php echo $wo['lang']['write_comment'];?>"></textarea>
								<button id="add-art-comment" class="btn btn-main btn-mat add_wow_loader" type="button" data-toggle="tooltip" title="<?php echo $wo['lang']['post']; ?>">
									<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z"></path></svg>
								</button>
							</div>
							<div class="clear"></div>
						</form>
						<div class="clear"></div>
		      </div>
	    	<?php endif ?>
	      <div class="blog-comlist-container">
	      	<?php 
						foreach (lui_GetBlogComments(array('blog_id'=> $wo['article']['id'])) as $wo['comment']) {
							echo lui_LoadPage('blog/comment-list');
						}
					?>
				</div>
	      <div class="posts_load">
	        <?php if (lui_GetBlogCommentsCount($wo['article']['id']) > 5): ?>
	          <div class="load-more">
	          	<button class="btn btn-default text-center pointer load-more-blog-comments">
	          		<i class="fa fa-arrow-down progress-icon" data-icon="arrow-down"></i> <?php echo $wo['lang']['load_more'] ?>
	          	</button>
	          </div>
	        <?php endif ?>
	      </div>
			</div>
      <?php //endif;?>
		</div>
		<div class="columna-4" style="position:sticky;top:108px;">
			<div class="wow_content wow_content_blog">
				<?php echo lui_LoadPage('blog/main-sidebar') ?>
			</div>
		</div>
	</div>
	<!-- .row -->
</div>

<script>
jQuery(document).ready(function($) {
  $(".load-more-blog-comments").click(function(event) {
    var self    = $(this);
    var last_id = 0;
    if ($("div[data-blog-comment]").length > 0) {
      last_id = $("div[data-blog-comment]").last().attr('data-blog-comment');
    }
    $.ajax({
      url: Wo_Ajax_Requests_File(),
      type: 'GET',
      dataType: 'json',
      data: {
        f:'load-blog-comments',
        offset:last_id,
        b_id:<?php echo $wo['article']['id']; ?>
      },
    }).done(function(data) {
      if (data.status == 200) {
        $(".blog-comlist-container").append(data.html);
      }
      else if(data.status == 404){
        self.text(data.html);
      }
    }).fail(function() {
      console.log("Algo salió mal. Vuelve a intentarlo más tarde");
    })
  });

  $(document).on('click', ".delete-my-blog",function() {
    $.ajax({
      type: "GET",
      url: Wo_Ajax_Requests_File(),
      data: {id: $(this).attr("id"),f:'delete-my-blog'},
      dataType:'json',
      success: function(data) {
         if(data['status'] == 200){
            $("div[data-rm-blog='"+ data['id'] +"']").remove()
         } else {
            alert(data['status'])
         }
      }
    });   
  });

  $(document).on('click', ".del-blog-comment",function() {
    var  self = $(this);
    $.ajax({
      type: "GET",
      url: Wo_Ajax_Requests_File(),
      data: {id: self.attr("id"),f:'del-blog-comment',b_id:<?php echo $wo['article']['id']; ?>},
      dataType:'json',
      success: function(data) {
         if(data['status'] == 200){
            $("div[data-blog-comment='"+ self.attr('id') +"']").slideUp('fast',function(){
              $(".blog-com-top h4 span").text(data.comments);
              $(this).remove();
            })
         }
      }
    });   
  });

  $(document).on('click', ".del-blog-commreplies",function() {
    var  self = $(this);
    $.ajax({
      type: "GET",
      url: Wo_Ajax_Requests_File(),
      data: {id: self.attr("id"),f:'del-blog-commreplies',b_id:<?php echo $wo['article']['id']; ?>},
      dataType:'json',
      success: function(data) {
         if(data['status'] == 200){
            $("div[data-blog-comment-reply='"+ self.attr('id') +"']").slideUp('fast',function(){
              var comments = Number($(".blog-com-top h4 span").text());
              $(".blog-com-top h4 span").text(comments -= 1);
              $(this).remove();
            })
         }
      }
    });   
  });

  $(document).on('click', ".reply-toblogcomm-reply",function() {
    $('.blog-comment-reply-box').each(function(index, el) {
      $(el).addClass('hidden');
    });
    var  self = $(this);
    var name  = $("div[data-blog-comment-reply='"+self.attr('id')+"']").find('a b').text();
    $("div[data-blog-comment='"+self.attr('data-blog-commId')+"']").find('.blog-comment-reply-box').removeClass('hidden').find('textarea').val(name +": ");
  });

  $(document).on('click', ".reply-toblog-comm",function() {
    $('.blog-comment-reply-box').each(function(index, el) {
      $(el).addClass('hidden');
    });
    var  self = $(this);
    $("div[data-blog-comment='"+self.attr('id')+"']").find('.blog-comment-reply-box').toggleClass('hidden').find('textarea').val('');
    
  });

  $("#add-art-comment").click(function(event) {
    <?php if ($wo['loggedin'] != true) { ?>
      document.location = "<?php echo($wo['config']['site_url']) ?>";
    <?php } ?>
    $.ajax({
      url: Wo_Ajax_Requests_File() + '?f=add-blog-comm',
      type: 'POST',
      dataType: 'json',
      data: {text:$("#blog-comment").val(),blog:<?php echo $wo['article']['id']; ?>},
    })
    .done(function(data) {
      if (data.status == 200) {
        if (node_socket_flow == "1") {
            socket.emit("user_notification", { to_id: data.user_id, user_id: _getCookie("user_id"), type: "added" });
        }
        $("#blog-comment").val('');
        $(".blog-comlist-container").prepend(data.html);
        $(".blog-com-top h4 span").text(data.comments);
      }
    })
    .fail(function() {
      console.log("Algo salió mal. Vuelve a intentarlo más tarde");
    })    
  });

});

function Wo_OpenWindow(url) {
  newwindow = window.open('<?php echo($wo['config']['site_url']); ?>/sharer?url=' + url, '', 'height=600,width=800');
   if (window.focus) {
      newwindow.focus();
   }
   return false;
}

function Wo_AddBlogCommentLike(id){
  if (!id) {
    return false;
  }
  var comment_id = id;
  Wo_Delay(function(){
    $.ajax({
      url: Wo_Ajax_Requests_File() + '?f=add-blog-commlikes',
      type: 'POST',
      dataType: 'json',
      data: {id:comment_id,blog_id:<?php echo $wo['article']['id']; ?>},
    }).done(function(data) {
      if (data.status == 200) {
        if (node_socket_flow == "1") {
            socket.emit("user_notification", { to_id: data.user_id, user_id: _getCookie("user_id"), type: "added" });
        }
        $("span[data-blog-comdislikes='"+comment_id+"']").text(data.dislikes);
        $("span[data-blog-comlikes='"+comment_id+"']").text(data.likes);
      }
    }).fail(function() {
      console.log("Algo salió mal. Vuelve a intentarlo más tarde");
    })
  },0);
  
}

function Wo_AddBlogCommentDisLike(id){
  if (!id) {
    return false;
  }
  var comment_id = id;
  Wo_Delay(function(){
    $.ajax({
      url: Wo_Ajax_Requests_File() + '?f=add-blog-commdislikes',
      type: 'POST',
      dataType: 'json',
      data: {id:comment_id,blog_id:<?php echo $wo['article']['id']; ?>},
    }).done(function(data) {
      if (data.status == 200) {
        $("span[data-blog-comdislikes='"+comment_id+"']").text(data.dislikes);
        $("span[data-blog-comlikes='"+comment_id+"']").text(data.likes);
      }
    }).fail(function() {
      console.log("Algo salió mal. Vuelve a intentarlo más tarde");
    })
  },0);
  
}
function Wo_AddBlogCommReplyLike(id){
  if (!id) {
    return false;
  }
  var reply_id = id;
  Wo_Delay(function(){
    $.ajax({
      url: Wo_Ajax_Requests_File() + '?f=add-blog-crlikes',
      type: 'POST',
      dataType: 'json',
      data: {id:reply_id,blog_id:<?php echo $wo['article']['id']; ?>},
    }).done(function(data) {
      if (data.status == 200) {
        $("span[data-blog-comrlikes='"+reply_id+"']").text(data.likes);
        $("span[data-blog-comrdislikes='"+reply_id+"']").text(data.dislikes);
      }
    }).fail(function() {
      console.log("Algo salió mal. Vuelve a intentarlo más tarde");
    })
  },0);
  
}

function Wo_AddBlogCommReplyDisLike(id){
  if (!id) {
    return false;
  }
  var reply_id = id;
  Wo_Delay(function(){
    $.ajax({
      url: Wo_Ajax_Requests_File() + '?f=add-blog-crdislikes',
      type: 'POST',
      dataType: 'json',
      data: {id:reply_id,blog_id:<?php echo $wo['article']['id']; ?>},
    }).done(function(data) {
      if (data.status == 200) {
        $("span[data-blog-comrlikes='"+reply_id+"']").text(data.likes);
        $("span[data-blog-comrdislikes='"+reply_id+"']").text(data.dislikes);
      }
    }).fail(function() {
      console.log("Algo salió mal. Vuelve a intentarlo más tarde");
    })
  },0);
  
}

function Wo_RegisterBlogCommReply(id,event,self){
  <?php if ($wo['loggedin'] != true) { ?>
      document.location = "<?php echo($wo['config']['site_url']) ?>";
    <?php } ?>
  if (event.keyCode==13&&event.shiftKey==0&&event&&id&&self) {
    var text = self.value;
    if (text.length >= 2) {
      $.ajax({
        url: Wo_Ajax_Requests_File() + '?f=add-blog-commreply',
        type: 'POST',
        dataType: 'json',
        data: {c_id:id,text:text,b_id:<?php echo $wo['article']['id']; ?>},
      }).done(function(data) {
        if (data.status == 200) {
          if (node_socket_flow == "1") {
              socket.emit("user_notification", { to_id: data.user_id, user_id: _getCookie("user_id"), type: "added" });
          }
          $("div[data-blog-comment='"+id+"']").find('.blog-comment-reply-cont').append(data.html);
          $(".blog-com-top h4 span").text(data.comments);
          self.value = '';
        }
      }).fail(function() {
        console.log("Algo salió mal. Vuelve a intentarlo más tarde");
      })     
    }
  }

}
</script>
